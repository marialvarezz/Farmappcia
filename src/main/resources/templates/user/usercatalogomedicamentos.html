<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sd="http://www.w3.org/1999/xhtml"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      layout:decorate="~{layoutuser}">

<head>
    <meta th:charset="#{principal.charset}">

    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">
    <title>Medicamentos</title>
    <!-- Favicons -->

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:wght@400;500&family=Inter:wght@400;500&family=Playfair+Display:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet"

          integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">

    <!-- Template Main CSS Files -->
    <link th:href="@{/css/variables.css}" rel="stylesheet">
    <link th:href="@{/css/main2.css}" rel="stylesheet">
    <link th:href="@{/css/estilos.css}" rel="stylesheet">

</head>

<body>
<div layout:fragment="cabecera"><div class="container" style="padding-top:20px;"><h3>Lista de medicamentos</h3></div></div>
<div layout:fragment="contenido" class="container">

    <div class="container-fluid" style="padding-bottom:20px;">
        <a sec:authorize="hasRole('ROLE_ADMIN')"  class="btn btn-outline-primary" th:href="@{/admin/medicamentos/}">Gestionar los medicamentos</a>
        <table class="table table-striped">
            <thead>
            <tr>
                <th sec:authorize="hasRole('ROLE_ADMIN')">ID</th>
                <th>Nombre</th>
                <th>Descripción</th>

                <th><div class="d-lg-block d-none">Componentes</div></th>
                <th><div class="d-lg-block d-none">Consumo</div></th>
                <th><div class="d-lg-block d-none">Efectos Secundarios</div></th>
                <th><div class="d-lg-block d-none">Misc.</div></th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="medicine : ${medicinePageUser.content}">
                <td th:text="${medicine.id}" sec:authorize="hasRole('ROLE_ADMIN')">1</td>
                <td th:text="${medicine.name}">Nombre</td>
                <td th:text="${medicine.description}">Descripción</td>
                <td>
                    <div th:text="${medicine.components}" class="d-lg-block d-none">Descripción</div></td>
                <td>
                    <div th:text="${medicine.administer}" class="d-lg-block d-none">Descripción</div>
                </td>
                <td>
                    <div th:text="${medicine.efects}" class="d-lg-block d-none">Descripción</div></td>
                <td >
                    <div th:text="${medicine.misc}" class="d-lg-block d-none">Descripción</div></td>


            </tr>
            </tbody>
        </table>

        <div th:if="${medicinePageUser.totalPages > 0}" class ="pagination">
            <ul class="pagination">
                <li class="page-item" th:each="pageNumber : ${pageNumbers}">
                    <a class="page-link" th:href="@{/usuario/medicamentos(size=${medicinePageUser.size}, page=${pageNumber})}"
                       th:text=${pageNumber}
                       th:classappend="${pageNumber==medicinePageUser.number + 1} ? active"></a>
                </li>
            </ul>
        </div>

    </div>
</div>




</body>

</html>