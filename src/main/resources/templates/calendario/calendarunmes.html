<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  xmlns:sd="http://www.w3.org/1999/xhtml"
	  layout:decorate="~{/layoutuser}">
<head>
	<meta charset="UTF-8">
	<title>Calendario</title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet"
		  integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">

	<!-- Template Main CSS Files -->
	<link th:href="@{/css/variables.css}" rel="stylesheet">
	<link th:href="@{/css/main2.css}" rel="stylesheet">
	<link th:href="@{/css/estilos.css}" rel="stylesheet">
</head>

<body>
	<div layout:fragment="cabecera">
		<div class="container" style="margin-bottom:10px;margin-top:20px;"><h3>Calendario de <span th:text="${user.name}"></span></h3>
		</div>
	</div>
	<div layout:fragment="contenido">

		<form method="post" th:action="@{/usuario/calendario}">

					<div class="row" style="padding-left:20px;">
						<div class="col-lg-6">
					Enter Year:
						<select id="year" class="form-select" name="year" >
							<option selected value="2023">2023</option>
							<option value="2024">2024</option>
							<option value="2025">2025</option>
							<option value="2026">2026</option>
							<option value="2027">2027</option>
							<option value="2028">2028</option>
							<option value="2029">2029</option>
							<option value="2030">2030</option>
						</select>
							Enter Month:
							<select id="month" class="form-select" name="month" >
								<option selected value="01">Enero</option>
								<option value="02">Febrero</option>
								<option value="03">Marzo</option>
								<option value="04">Abril</option>
								<option selected value="05">Mayo</option>
								<option value="06">Junio</option>
								<option value="07">Julio</option>
								<option value="08">Agosto</option>
								<option value="09">Septiembre</option>
								<option value="10">Octubre</option>
								<option value="11">Noviembre</option>
								<option value="12">Diciembre</option>

							</select>
							<br>
							<input type="submit" name="submit" class="btn btn-outline-secondary" value="Generar">
						</div>
						</div>
						<div class="col-lg-6">


					</div>

		</form>





		<div class="container-fluid d-flex align-content-center" style="margin-top:20px;">
			<div class="container  d-flex justify-content-center" th:if="${JAN !=null }">
				<table class="table">
					<caption>January</caption>
					<div style="background-color:#005CA9 ; color:white;text-align:center; padding:5px;">
						<h3>Enero</h3>
					</div>
					<tr>
						<th class="cuadrados">Domingo</th>
						<th class="cuadrados">Lunes</th>
						<th class="cuadrados">Martes</th>
						<th class="cuadrados">Miércoles</th>
						<th class="cuadrados">Jueves</th>
						<th class="cuadrados">Viernes</th>
						<th class="cuadrados">Sábado</th>
					</tr>
					<tr th:each="row: ${JAN}">
						<th:block th:each="column: ${row}">
							<td class="cuadrados" >
								<th:block  th:if="${events==null  or events.size() == 0}">
								<label  th:text="${column?.day}"/>
							</th:block>
								<th:block   th:if="${events!=null and events.size() > 0  }">
									<label  th:text="${column?.day}"/>
									<th:block th:each="elemento,rowStat : ${events.?[diames == __${column?.day}__]}" >
											<div th:if="${elemento.agendaToEvents.userToAgenda.id==user.id}" th:text="${elemento.especializacion} ">
											</div>
									</th:block>
								</th:block>
								<th:block   th:if="${userMedicines!=null and userMedicines.size() > 0  }">
									<th:block th:if="${elemento.userToMedicine.id==user.id}" th:each="elemento,rowStat : ${userMedicines.?[diames == __${column?.day}__]}" >
								<div  th:text="${elemento.medicineToMedicine.name} ">
										</div>
									</th:block>
								</th:block>



							</td>
						</th:block>
					</tr>
				</table>
			</div>
			<div class="container" th:if="${FEB !=null }">
				<table class="table">
					<caption>February</caption>
					<div style="background-color:#005CA9 ; color:white;text-align:center; padding:5px;">
						<h3>Febrero</h3>
					</div>
					<tr>
						<th class="cuadrados">Domingo</th>
						<th class="cuadrados">Lunes</th>
						<th class="cuadrados">Martes</th>
						<th class="cuadrados">Miércoles</th>
						<th class="cuadrados">Jueves</th>
						<th class="cuadrados">Viernes</th>
						<th class="cuadrados">Sábado</th>
					</tr>
					<tr th:each="row: ${FEB}">
						<th:block th:each="column: ${row}">
							<td class="cuadrados" >
								<th:block  th:if="${events==null  or events.size() == 0}">
									<label  th:text="${column?.day}"/>
								</th:block>
								<th:block   th:if="${events!=null and events.size() > 0  }">
									<label  th:text="${column?.day}"/>
									<th:block th:each="elemento,rowStat : ${events.?[diames == __${column?.day}__]}" >
										<div th:if="${elemento.agendaToEvents.userToAgenda.id==user.id}" th:text="${elemento.especializacion} ">
										</div>
									</th:block>
								</th:block>
								<th:block   th:if="${userMedicines!=null and userMedicines.size() > 0  }">
									<th:block th:if="${elemento.userToMedicine.id==user.id}" th:each="elemento,rowStat : ${userMedicines.?[diames == __${column?.day}__]}" >
										<div  th:text="${elemento.medicineToMedicine.name} ">
										</div>
									</th:block>
								</th:block>



							</td>
						</th:block>
					</tr>
				</table>
			</div>
			<div class="container" th:if="${MAR !=null }">
				<table class="table ">
					<caption>March</caption>
					<div style="background-color:#005CA9 ; color:white;text-align:center; padding:5px;">
						<h3>Marzo</h3>
					</div>
					<tr>
						<th class="cuadrados">Domingo</th>
						<th class="cuadrados">Lunes</th>
						<th class="cuadrados">Martes</th>
						<th class="cuadrados">Miércoles</th>
						<th class="cuadrados">Jueves</th>
						<th class="cuadrados">Viernes</th>
						<th class="cuadrados">Sábado</th>
					</tr>
					<tr th:each="row: ${MAR}">
						<th:block th:each="column: ${row}">
							<td class="cuadrados" >
								<th:block  th:if="${events==null  or events.size() == 0}">
									<label  th:text="${column?.day}"/>
								</th:block>
								<th:block   th:if="${events!=null and events.size() > 0  }">
									<label  th:text="${column?.day}"/>
									<th:block th:each="elemento,rowStat : ${events.?[diames == __${column?.day}__]}" >
										<div th:if="${elemento.agendaToEvents.userToAgenda.id==user.id}" th:text="${elemento.especializacion} ">
										</div>
									</th:block>
								</th:block>
								<th:block   th:if="${userMedicines!=null and userMedicines.size() > 0  }">
									<th:block th:if="${elemento.userToMedicine.id==user.id}" th:each="elemento,rowStat : ${userMedicines.?[diames == __${column?.day}__]}" >
										<div  th:text="${elemento.medicineToMedicine.name} ">
										</div>
									</th:block>
								</th:block>



							</td>
						</th:block>
					</tr>
				</table>
			</div>
			<div class="container" th:if="${APR !=null }">
				<table class="table">
					<caption>April</caption>
					<div style="background-color:#005CA9 ; color:white;text-align:center; padding:5px;">
						<h3>Abril</h3>
					</div>
					<tr>
						<th class="cuadrados">Domingo</th>
						<th class="cuadrados">Lunes</th>
						<th class="cuadrados">Martes</th>
						<th class="cuadrados">Miércoles</th>
						<th class="cuadrados">Jueves</th>
						<th class="cuadrados">Viernes</th>
						<th class="cuadrados">Sábado</th>
					</tr>
					<tr th:each="row: ${APR}">
						<th:block th:each="column: ${row}">
							<td class="cuadrados" >
								<th:block  th:if="${events==null  or events.size() == 0}">
									<label  th:text="${column?.day}"/>
								</th:block>
								<th:block   th:if="${events!=null and events.size() > 0  }">
									<label  th:text="${column?.day}"/>
									<th:block th:each="elemento,rowStat : ${events.?[diames == __${column?.day}__]}" >
										<div th:if="${elemento.agendaToEvents.userToAgenda.id==user.id}" th:text="${elemento.especializacion} ">
										</div>
									</th:block>
								</th:block>
								<th:block   th:if="${userMedicines!=null and userMedicines.size() > 0  }">
									<th:block th:if="${elemento.userToMedicine.id==user.id}" th:each="elemento,rowStat : ${userMedicines.?[diames == __${column?.day}__]}" >
										<div  th:text="${elemento.medicineToMedicine.name} ">
										</div>
									</th:block>
								</th:block>



							</td>
						</th:block>
					</tr>
				</table>
			</div>


			<div class="container" th:if="${MAY !=null }">
				<table class="table ">
					<caption>May</caption>
					<div style="background-color:#005CA9 ; color:white;text-align:center; padding:5px;">
						<h3>Mayo</h3>
					</div>
					<tr>
						<th class="cuadrados">Domingo</th>
						<th class="cuadrados">Lunes</th>
						<th class="cuadrados">Martes</th>
						<th class="cuadrados">Miércoles</th>
						<th class="cuadrados">Jueves</th>
						<th class="cuadrados">Viernes</th>
						<th class="cuadrados">Sábado</th>
					</tr>
					<tr th:each="row: ${MAY}">
						<th:block th:each="column: ${row}">
							<td class="cuadrados" >
								<th:block  th:if="${events==null  or events.size() == 0}">
									<label  th:text="${column?.day}"/>
								</th:block>
								<th:block   th:if="${events!=null and events.size() > 0  }">
									<label  th:text="${column?.day}"/>
									<th:block th:each="elemento,rowStat : ${events.?[diames == __${column?.day}__]}" >
										<div th:if="${elemento.agendaToEvents.userToAgenda.id==user.id}" >
											<span th:text="${elemento.especializacion}"></span> - <span th:text="${elemento.hora}"></span>
										</div>
									</th:block>
								</th:block>
								<th:block   th:if="${userMedicines!=null and userMedicines.size() > 0  }">
									<th:block th:if="${elemento.userToMedicine.id==user.id}" th:each="elemento,rowStat : ${userMedicines.?[diames == __${column?.day}__]}" >
										<div ><span  th:text="${elemento.medicineToMedicine.name} "></span> - <span th:text="${elemento.hora}"></span>
										</div>
									</th:block>
								</th:block>



							</td>
						</th:block>
					</tr>
				</table>
			</div>
			<div class="container" th:if="${JUN !=null }">
				<table class="table  ">
					<caption>June</caption>
					<div style="background-color:#005CA9 ; color:white;text-align:center; padding:5px;">
						<h3>Junio</h3>
					</div>
					<tr>
						<th class="cuadrados">Domingo</th>
						<th class="cuadrados">Lunes</th>
						<th class="cuadrados">Martes</th>
						<th class="cuadrados">Miércoles</th>
						<th class="cuadrados">Jueves</th>
						<th class="cuadrados">Viernes</th>
						<th class="cuadrados">Sábado</th>
					</tr>
					<tr th:each="row: ${JUN}">
						<th:block th:each="column: ${row}">
							<td class="cuadrados" >
								<th:block  th:if="${events==null  or events.size() == 0}">
									<label  th:text="${column?.day}"/>
								</th:block>
								<th:block   th:if="${events!=null and events.size() > 0  }">
									<label  th:text="${column?.day}"/>
									<th:block th:each="elemento,rowStat : ${events.?[diames == __${column?.day}__]}" >
										<div th:if="${elemento.agendaToEvents.userToAgenda.id==user.id}" th:text="${elemento.especializacion} ">
										</div>
									</th:block>
								</th:block>
								<th:block   th:if="${userMedicines!=null and userMedicines.size() > 0  }">
									<th:block th:if="${elemento.userToMedicine.id==user.id}" th:each="elemento,rowStat : ${userMedicines.?[diames == __${column?.day}__]}" >
										<div  th:text="${elemento.medicineToMedicine.name} ">
										</div>
									</th:block>
								</th:block>



							</td>
						</th:block>
					</tr>
				</table>
			</div>
			<div class="container" th:if="${JUL !=null }">
				<table class="table">
					<caption>July</caption>
					<div style="background-color:#005CA9 ; color:white;text-align:center; padding:5px;">
						<h3>Julio</h3>
					</div>
					<tr>
						<th class="cuadrados">Domingo</th>
						<th class="cuadrados">Lunes</th>
						<th class="cuadrados">Martes</th>
						<th class="cuadrados">Miércoles</th>
						<th class="cuadrados">Jueves</th>
						<th class="cuadrados">Viernes</th>
						<th class="cuadrados">Sábado</th>
					</tr>
					<tr th:each="row: ${JUL}">
						<th:block th:each="column: ${row}">
							<td class="cuadrados" >
								<th:block  th:if="${events==null  or events.size() == 0}">
									<label  th:text="${column?.day}"/>
								</th:block>
								<th:block   th:if="${events!=null and events.size() > 0  }">
									<label  th:text="${column?.day}"/>
									<th:block th:each="elemento,rowStat : ${events.?[diames == __${column?.day}__]}" >
										<div th:if="${elemento.agendaToEvents.userToAgenda.id==user.id}" th:text="${elemento.especializacion} ">
										</div>
									</th:block>
								</th:block>
								<th:block   th:if="${userMedicines!=null and userMedicines.size() > 0  }">
									<th:block th:if="${elemento.userToMedicine.id==user.id}" th:each="elemento,rowStat : ${userMedicines.?[diames == __${column?.day}__]}" >
										<div  th:text="${elemento.medicineToMedicine.name} ">
										</div>
									</th:block>
								</th:block>



							</td>
						</th:block>
					</tr>
				</table>
			</div>
			<div class="container" th:if="${AUG !=null }">
				<table class="table">
					<caption>August</caption>
					<div style="background-color:#005CA9 ; color:white;text-align:center; padding:5px;">
						<h3>Agosto</h3>
					</div>
					<tr>
						<th class="cuadrados">Domingo</th>
						<th class="cuadrados">Lunes</th>
						<th class="cuadrados">Martes</th>
						<th class="cuadrados">Miércoles</th>
						<th class="cuadrados">Jueves</th>
						<th class="cuadrados">Viernes</th>
						<th class="cuadrados">Sábado</th>
					</tr>
					<tr th:each="row: ${AUG}">
						<th:block th:each="column: ${row}">
							<td class="cuadrados" >
								<th:block  th:if="${events==null  or events.size() == 0}">
									<label  th:text="${column?.day}"/>
								</th:block>
								<th:block   th:if="${events!=null and events.size() > 0  }">
									<label  th:text="${column?.day}"/>
									<th:block th:each="elemento,rowStat : ${events.?[diames == __${column?.day}__]}" >
										<div th:if="${elemento.agendaToEvents.userToAgenda.id==user.id}" th:text="${elemento.especializacion} ">
										</div>
									</th:block>
								</th:block>
								<th:block   th:if="${userMedicines!=null and userMedicines.size() > 0  }">
									<th:block th:if="${elemento.userToMedicine.id==user.id}" th:each="elemento,rowStat : ${userMedicines.?[diames == __${column?.day}__]}" >
										<div  th:text="${elemento.medicineToMedicine.name} ">
										</div>
									</th:block>
								</th:block>



							</td>
						</th:block>
					</tr>
				</table>
			</div>

		<div class="row">
			<div class="container" th:if="${SEP !=null }">
				<table class="table">
					<caption>September</caption>
					<div style="background-color:#005CA9 ; color:white;text-align:center; padding:5px;">
						<h3>Septiembre</h3>
					</div>
					<tr>
						<th class="cuadrados">Domingo</th>
						<th class="cuadrados">Lunes</th>
						<th class="cuadrados">Martes</th>
						<th class="cuadrados">Miércoles</th>
						<th class="cuadrados">Jueves</th>
						<th class="cuadrados">Viernes</th>
						<th class="cuadrados">Sábado</th>
					</tr>
					<tr th:each="row: ${SEP}">
						<th:block th:each="column: ${row}">
							<td class="cuadrados" >
								<th:block  th:if="${events==null  or events.size() == 0}">
									<label  th:text="${column?.day}"/>
								</th:block>
								<th:block   th:if="${events!=null and events.size() > 0  }">
									<label  th:text="${column?.day}"/>
									<th:block th:each="elemento,rowStat : ${events.?[diames == __${column?.day}__]}" >
										<div th:if="${elemento.agendaToEvents.userToAgenda.id==user.id}" th:text="${elemento.especializacion} ">
										</div>
									</th:block>
								</th:block>
								<th:block   th:if="${userMedicines!=null and userMedicines.size() > 0  }">
									<th:block th:if="${elemento.userToMedicine.id==user.id}" th:each="elemento,rowStat : ${userMedicines.?[diames == __${column?.day}__]}" >
										<div  th:text="${elemento.medicineToMedicine.name} ">
										</div>
									</th:block>
								</th:block>



							</td>
						</th:block>
					</tr>
				</table>
			</div>
			<div class="container" th:if="${OCT !=null }">
				<table class="table">
					<caption>October</caption>
					<div style="background-color:#005CA9 ; color:white;text-align:center; padding:5px;">
						<h3>Octubre</h3>
					</div>
					<tr>
						<th class="cuadrados">Domingo</th>
						<th class="cuadrados">Lunes</th>
						<th class="cuadrados">Martes</th>
						<th class="cuadrados">Miércoles</th>
						<th class="cuadrados">Jueves</th>
						<th class="cuadrados">Viernes</th>
						<th class="cuadrados">Sábado</th>
					</tr>
					<tr th:each="row: ${OCT}">
						<th:block th:each="column: ${row}">
							<td class="cuadrados" >
								<th:block  th:if="${events==null  or events.size() == 0}">
									<label  th:text="${column?.day}"/>
								</th:block>
								<th:block   th:if="${events!=null and events.size() > 0  }">
									<label  th:text="${column?.day}"/>
									<th:block th:each="elemento,rowStat : ${events.?[diames == __${column?.day}__]}" >
										<div th:if="${elemento.agendaToEvents.userToAgenda.id==user.id}" th:text="${elemento.especializacion} ">
										</div>
									</th:block>
								</th:block>
								<th:block   th:if="${userMedicines!=null and userMedicines.size() > 0  }">
									<th:block th:if="${elemento.userToMedicine.id==user.id}" th:each="elemento,rowStat : ${userMedicines.?[diames == __${column?.day}__]}" >
										<div  th:text="${elemento.medicineToMedicine.name} ">
										</div>
									</th:block>
								</th:block>



							</td>
						</th:block>
					</tr>
				</table>
			</div>
			<div class="container" th:if="${NOV !=null }">
				<table class="table">
					<caption>November</caption>
					<div style="background-color:#005CA9 ; color:white;text-align:center; padding:5px;">
						<h3>Noviembre</h3>
					</div>
					<tr>
						<th class="cuadrados">Domingo</th>
						<th class="cuadrados">Lunes</th>
						<th class="cuadrados">Martes</th>
						<th class="cuadrados">Miércoles</th>
						<th class="cuadrados">Jueves</th>
						<th class="cuadrados">Viernes</th>
						<th class="cuadrados">Sábado</th>
					</tr>
					<tr th:each="row: ${NOV}">
						<th:block th:each="column: ${row}">
							<td class="cuadrados" >
								<th:block  th:if="${events==null  or events.size() == 0}">
									<label  th:text="${column?.day}"/>
								</th:block>
								<th:block   th:if="${events!=null and events.size() > 0  }">
									<label  th:text="${column?.day}"/>
									<th:block th:each="elemento,rowStat : ${events.?[diames == __${column?.day}__]}" >
										<div th:if="${elemento.agendaToEvents.userToAgenda.id==user.id}" th:text="${elemento.especializacion} ">
										</div>
									</th:block>
								</th:block>
								<th:block   th:if="${userMedicines!=null and userMedicines.size() > 0  }">
									<th:block th:if="${elemento.userToMedicine.id==user.id}" th:each="elemento,rowStat : ${userMedicines.?[diames == __${column?.day}__]}" >
										<div  th:text="${elemento.medicineToMedicine.name} ">
										</div>
									</th:block>
								</th:block>



							</td>
						</th:block>
					</tr>
				</table>
			</div>
			<div class="container" th:if="${DEC !=null }">
				<table class="table">
					<div style="background-color:#005CA9 ; color:white;text-align:center; padding:5px;">
						<h3>Diciembre</h3>
					</div>
					<caption>December</caption>
					<tr>
						<th class="cuadrados">Domingo</th>
						<th class="cuadrados">Lunes</th>
						<th class="cuadrados">Martes</th>
						<th class="cuadrados">Miércoles</th>
						<th class="cuadrados">Jueves</th>
						<th class="cuadrados">Viernes</th>
						<th class="cuadrados">Sábado</th>
					</tr>
					<tr th:each="row: ${DEC}">
						<th:block th:each="column: ${row}">
							<td class="cuadrados" >
								<th:block  th:if="${events==null  or events.size() == 0}">
									<label  th:text="${column?.day}"/>
								</th:block>
								<th:block   th:if="${events!=null and events.size() > 0  }">
									<label  th:text="${column?.day}"/>
									<th:block th:each="elemento,rowStat : ${events.?[diames == __${column?.day}__]}" >
										<div th:if="${elemento.agendaToEvents.userToAgenda.id==user.id}" th:text="${elemento.especializacion} ">
										</div>
									</th:block>
								</th:block>
								<th:block   th:if="${userMedicines!=null and userMedicines.size() > 0  }">
									<th:block th:if="${elemento.userToMedicine.id==user.id}" th:each="elemento,rowStat : ${userMedicines.?[diames == __${column?.day}__]}" >
										<div  th:text="${elemento.medicineToMedicine.name} ">
										</div>
									</th:block>
								</th:block>



							</td>
						</th:block>
					</tr>
				</table>
			</div>
		</div>
		</div>
	</div>
</body>
</html>
