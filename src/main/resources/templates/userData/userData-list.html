<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sd="http://www.w3.org/1999/xhtml"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      layout:decorate="~{layout2}">

<head>
    <meta th:charset="#{principal.charset}">

    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <title>Catalogo de Medicamentos</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet"

          integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">

    <!-- Template Main CSS Files -->
    <link th:href="@{/css/variables.css}" rel="stylesheet">
    <link th:href="@{/css/main2.css}" rel="stylesheet">
    <link th:href="@{/css/estilos.css}" rel="stylesheet">

</head>
<body>
<div layout:fragment="cabecera"><div class="container" style="padding-top:20px;"><h3> Lista de Medicamentos</h3></div></div>
<div layout:fragment="contenido" class="container" style="padding-top:20px;">

        <div class="container-fluid" style="padding-bottom:20px;">
            <table class="table table-striped">
                <thead>
                <a sec:authorize="hasRole('ROLE_ADMIN')" class="btn btn-outline-success" th:href="@{/datosusuario/new}">Agregar Nuevos Datos</a>
                <tr>
                    <th sec:authorize="hasRole('ROLE_ADMIN')">ID</th>
                    <th>Dirección</th>
                    <th>Ciudad</th>
                    <th>Teléfono</th>
                    <th>Grupo Sangre</th>
                    <th>Alergias</th>
                    <th>Altura</th>
                    <th>Peso</th>
                    <th>Fecha Insert</th>
                    <th>Fecha Update</th>

                </tr>
                </thead>
                <tbody>
                <tr th:each="userData : ${userdata}">
                    <td sec:authorize="hasRole('ROLE_ADMIN')" th:text="${userData.id}">1</td>
                    <td th:text="${userData.direccion}">Nombre</td>
                    <td th:text="${userData.ciudad}">Descripción</td>
                    <td th:text="${userData.telefono}">Imágen</td>
                    <td th:text="${userData.grupoSangre}">Componentes</td>
                    <td th:text="${userData.alergias}">Consumo</td>
                    <td th:text="${userData.altura}">Efectos Secundarios</td>
                    <td th:text="${userData.peso}">Misc.</td>
                    <td th:text="${userData.fechaInsert}">Misc.</td>
                    <td th:text="${userData.fechaUpdate}">Misc.</td>


                    <td sec:authorize="hasRole('ROLE_ADMIN')">
                        <a class="btn btn-outline-primary" th:href="@{/datosusuario/edit/{id}(id=${userData.id})}">Editar</a>
                        <a onclick="return confirm('¿Está seguro que quiere borrar el medicamento?')" class="btn btn-outline-danger" th:href="@{/datosusuario/delete/{id}(id=${userData.id})}">Borrar</a>
                    </td>
                </tr>
                </tbody>
            </table>

        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>